function speed(){var a;a=document.getElementsByName("speed")[0].value;return(a)}function target(){var c;var b;var a;c=document.getElementsByName("galaxy")[0].value;b=document.getElementsByName("system")[0].value;a=document.getElementsByName("planet")[0].value;return("["+c+":"+b+":"+a+"]")}function setACS(a){document.getElementsByName("fleet_group")[0].value=a;return}function setACS_target(a){document.getElementsByName("acs_target_mr")[0].value=a;return}function setTarget(c,d,a,b){document.getElementsByName("galaxy")[0].value=c;document.getElementsByName("system")[0].value=d;document.getElementsByName("planet")[0].value=a;document.getElementsByName("planettype")[0].value=b}function setMission(a){document.getElementsByName("order")[0].selectedIndex=a;return}function setUnion(a){document.getElementsByName("union2")[0].selectedIndex=a}function setTargetLong(d,f,a,b,e,c){setTarget(d,f,a,b);setMission(e);setUnions(c)}function min(d,c){d=d*1;c=c*1;if(d>c){return c}else{return d}}function maxspeed(){var a=1000000000;for(i=200;i<220;i++){if(document.getElementsByName("ship"+i)[0]){if((document.getElementsByName("speed"+i)[0].value*1)>=1&&(document.getElementsByName("ship"+i)[0].value*1)>=1){a=min(a,document.getElementsByName("speed"+i)[0].value)}}}return(a)}function distance(){var e;var c;var a;var f;var d;var b;var g;e=document.getElementsByName("thisgalaxy")[0].value;c=document.getElementsByName("thissystem")[0].value;a=document.getElementsByName("thisplanet")[0].value;f=document.getElementsByName("galaxy")[0].value;d=document.getElementsByName("system")[0].value;b=document.getElementsByName("planet")[0].value;g=0;if((f-e)!=0){g=Math.abs(f-e)*20000}else{if((d-c)!=0){g=Math.abs(d-c)*5*19+2700}else{if((b-a)!=0){g=Math.abs(b-a)*5+1000}else{g=5}}}return(g)}function duration(){var a;a=document.getElementsByName("speedfactor")[0].value;msp=maxspeed();sp=speed();dist=distance();ret=Math.round(((35000/sp*Math.sqrt(dist*10/msp)+10)/a));return ret}function consumption2(){var a;var b=0;for(i=200;i<220;i++){if(document.getElementsByName("ship"+i)[0]){b=b+document.getElementsByName("consumption"+i)[0].value*document.getElementsByName("ship"+i)[0].value}}speedfactor=document.getElementsByName("speedfactor")[0].value;msp=maxspeed();sp=speed();dist=distance();a=Math.round(b*dist/35000*((sp/10)+1)*((sp/10)+1))+1;return(a)}function consumption(){var a=0;var d=0;var b;var c;msp=maxspeed();sp=speed();dist=distance();dur=duration();speedfactor=document.getElementsByName("speedfactor")[0].value;for(c=200;c<220;c++){if(document.getElementsByName("ship"+c)[0]){shipspeed=document.getElementsByName("speed"+c)[0].value;spd=35000/(dur*speedfactor-10)*Math.sqrt(dist*10/shipspeed);d=document.getElementsByName("consumption"+c)[0].value*document.getElementsByName("ship"+c)[0].value;a+=d*dist/35000*((spd/10)+1)*((spd/10)+1)}}a=Math.round(a)+1;return(a)}function probeConsumption(){var a=0;var d=0;var b;var c;msp=maxspeed();sp=speed();dist=distance();dur=duration();speedfactor=document.getElementsByName("speedfactor")[0].value;if(document.getElementsByName("ship210")[0]){shipspeed=document.getElementsByName("speed210")[0].value;spd=35000/(dur*speedfactor-10)*Math.sqrt(dist*10/shipspeed);d=document.getElementsByName("consumption210")[0].value*document.getElementsByName("ship210")[0].value;a+=d*dist/35000*((spd/10)+1)*((spd/10)+1)}a=Math.round(a)+1;return(a)}function unusedProbeStorage(){var b=document.getElementsByName("capacity210")[0].value*document.getElementsByName("ship210")[0].value;var a=b-probeConsumption();return(a>0)?a:0}function storage(){var a=0;for(i=200;i<300;i++){if(document.getElementsByName("ship"+i)[0]){if((document.getElementsByName("ship"+i)[0].value*1)>=1){a+=document.getElementsByName("ship"+i)[0].value*document.getElementsByName("capacity"+i)[0].value}}}a=a*getStorageFaktor();a-=consumption();if(document.getElementsByName("ship210")[0]){a-=unusedProbeStorage()}return(a)}function fleetInfo(){document.getElementById("speed").innerHTML=speed()*10+"%";document.getElementById("target").innerHTML=target();document.getElementById("distance").innerHTML=distance();var e=duration();var b=Math.floor(e/3600);e-=b*3600;var d=Math.floor(e/60);e-=d*60;if(d<10){d="0"+d}if(e<10){e="0"+e}document.getElementById("duration").innerHTML=b+":"+d+":"+e+" h";var c=storage();var a=consumption();document.getElementById("maxspeed").innerHTML=tsdpkt(maxspeed());if(c>=0){document.getElementById("consumption").innerHTML='<font color="lime">'+a+"</font>";document.getElementById("storage").innerHTML='<font color="lime">'+c+"</font>"}else{document.getElementById("consumption").innerHTML='<font color="red">'+a+"</font>";document.getElementById("storage").innerHTML='<font color="red">'+c+"</font>"}calculateTransportCapacity()}function shortInfo(){document.getElementById("distance").innerHTML=tsdpkt(distance());var e=duration();var b=Math.floor(e/3600);e-=b*3600;var d=Math.floor(e/60);e-=d*60;if(d<10){d="0"+d}if(e<10){e="0"+e}document.getElementById("duration").innerHTML=b+":"+d+":"+e+" h";var c=storage();var a=consumption();document.getElementById("maxspeed").innerHTML=tsdpkt(maxspeed());if(c>=0){document.getElementById("consumption").innerHTML='<font color="lime">'+tsdpkt(a)+"</font>";document.getElementById("storage").innerHTML='<font color="lime">'+tsdpkt(c)+"</font>"}else{document.getElementById("consumption").innerHTML='<font color="red">'+tsdpkt(a)+"</font>";document.getElementById("storage").innerHTML='<font color="red">'+tsdpkt(c)+"</font>"}}function setResource(b,a){if(document.getElementsByName(b)[0]){document.getElementsByName("resource"+b)[0].value=a}}function maxResource(b){var j=parseInt(document.getElementsByName("thisresource"+b)[0].value);var c=parseInt(document.getElementsByName("resource"+b)[0].value);if(isNaN(c)){c=0}if(isNaN(j)){j=0}var g=storage();if(b==3){if((j-consumption())<0){j=0}else{j-=consumption()}}var h=document.getElementsByName("resource1")[0].value;var e=document.getElementsByName("resource2")[0].value;var a=document.getElementsByName("resource3")[0].value;if(isNaN(h)){h=0}if(isNaN(e)){e=0}if(isNaN(a)){a=0}var f=Math.max(g-h-e-a,0);var d=Math.min(f+c,j);if(document.getElementsByName("resource"+b)[0]){document.getElementsByName("resource"+b)[0].value=d}calculateTransportCapacity()}function maxResources(){var f;var e=storage();var c=Math.round(document.getElementsByName("thisresource1")[0].value);var a=Math.round(document.getElementsByName("thisresource2")[0].value);var d=Math.round(document.getElementsByName("thisresource3")[0].value-consumption());var b=e-c-a-d;if(b<0){c=Math.min(c,e);a=Math.min(a,e-c);d=Math.min(d,e-c-a)}document.getElementsByName("resource1")[0].value=Math.max(c,0);document.getElementsByName("resource2")[0].value=Math.max(a,0);document.getElementsByName("resource3")[0].value=Math.max(d,0);calculateTransportCapacity()}function maxShip(a){if(document.getElementsByName(a)[0]){document.getElementsByName(a)[0].value=document.getElementsByName("max"+a)[0].value}}function maxShips(){var a;for(i=200;i<220;i++){a="ship"+i;maxShip(a)}}function noShip(a){if(document.getElementsByName(a)[0]){document.getElementsByName(a)[0].value=0}}function noShips(){var a;for(i=200;i<220;i++){a="ship"+i;noShip(a)}}function calculateTransportCapacity(){var c=Math.round(Math.abs(document.getElementsByName("resource1")[0].value));var b=Math.round(Math.abs(document.getElementsByName("resource2")[0].value));var a=Math.round(Math.abs(document.getElementsByName("resource3")[0].value));transportCapacity=storage()-c-b-a;if(transportCapacity<0){document.getElementById("remainingresources").innerHTML="<font color=red>"+transportCapacity+"</font>"}else{document.getElementById("remainingresources").innerHTML="<font color=lime>"+transportCapacity+"</font>"}return transportCapacity}function getLayerRef(d,b){if(!b){b=window.document}if(b.layers){for(var c=0;c<b.layers.length;c++){if(b.layers[c].id==d){return b.layers[c]}}for(var c=0;c<b.layers.length;c++){var a=getLayerRef(d,b.layers[c].document);if(a){return a}}return null}else{if(b.all){return b.all[d]}else{if(b.getElementById){return b.getElementById(d)}}}}function setVisibility(b,a){if(document.layers){b.visibility=(a==true)?"show":"hide"}else{b.style.visibility=(a==true)?"visible":"hidden"}}function setVisibilityForDivByPrefix(b,f,e){if(!e){e=window.document}if(document.layers){for(var a=0;a<e.layers.length;a++){if(e.layers[a].id.substr(0,b.length)==b){setVisibility(e.layers[l],f)}setVisibilityForDivByPrefix(b,f,e.layers[a].document)}}else{if(document.all){var c=document.all.tags("div");for(a=0;a<c.length;a++){if(c[a].id.substr(0,b.length)==b){setVisibility(document.all.tags("div")[a].visible)}}}else{if(document.getElementsByTagName){var c=document.getElementsByTagName("div");for(a=0;a<c.length;a++){if(c[a].id.substr(0,b.length)==b){setVisibility(c[a].visible)}}}}}}function setPlanet(a){var b=a.split(":");document.getElementsByName("galaxy")[0].value=b[0];document.getElementsByName("system")[0].value=b[1];document.getElementsByName("planet")[0].value=b[2];document.getElementsByName("planettype")[0].value=b[3];setMission(b[4])}function setUnions(b){galaxy=document.getElementsByName("galaxy")[0].value;system=document.getElementsByName("system")[0].value;planet=document.getElementsByName("planet")[0].value;planettype=document.getElementsByName("planettype")[0].value;thisgalaxy=document.getElementsByName("thisgalaxy")[0].value;thissystem=document.getElementsByName("thissystem")[0].value;thisplanet=document.getElementsByName("thisplanet")[0].value;thisplanettype=document.getElementsByName("thisplanettype")[0].value;spd=document.getElementsByName("speed")[0].value;speedfactor=document.getElementsByName("speedfactor")[0].value;for(i=0;i<b;i++){var a=document.getElementById("union"+i).innerHTML;time=document.getElementsByName("union"+i+"time")[0].value;targetgalaxy=document.getElementsByName("union"+i+"galaxy")[0].value;targetsystem=document.getElementsByName("union"+i+"system")[0].value;targetplanet=document.getElementsByName("union"+i+"planet")[0].value;targetplanettype=document.getElementsByName("union"+i+"planettype")[0].value;if(targetgalaxy==galaxy&&targetsystem==system&&targetplanet==planet&&targetplanettype==planettype){inSpeedLimit=isInSpeedLimit(flightTime(thisgalaxy,thissystem,thisplanet,targetgalaxy,targetsystem,targetplanet,spd,speedfactor),time);if(inSpeedLimit==2){document.getElementById("union"+i).innerHTML='<font color="lime">'+a+"</font>"}else{if(inSpeedLimit==1){document.getElementById("union"+i).innerHTML='<font color="orange">'+a+"</font>"}else{document.getElementById("union"+i).innerHTML='<font color="red">'+a+"</font>"}}}else{document.getElementById("union"+i).innerHTML='<font color="#00a0ff">'+a+"</font>"}}}function isInSpeedLimit(a,c){var b=new Date();b=Math.round(b/1000);if(a<((c-b)*(1+0.5))){return 2}else{if(a<((c-b)*1)){return 1}else{return 0}}}function flightTime(a,b,d,h,f,j,g,c,e){if((a-h)!=0){dist=Math.abs(a-h)*20000}else{if((b-f)!=0){dist=Math.abs(b-f)*5*19+2700}else{if((d-j)!=0){dist=Math.abs(d-j)*5+1000}else{dist=5}}}return Math.round(((35000/g*Math.sqrt(dist*10/c)+10)/e))}function showCoords(){document.getElementsByName("speed")[0].disabled=false;document.getElementsByName("galaxy")[0].disabled=false;document.getElementsByName("system")[0].disabled=false;document.getElementsByName("planet")[0].disabled=false;document.getElementsByName("planettype")[0].disabled=false;document.getElementsByName("shortlinks")[0].disabled=false}function hideCoords(){document.getElementsByName("speed")[0].disabled=true;document.getElementsByName("galaxy")[0].disabled=true;document.getElementsByName("system")[0].disabled=true;document.getElementsByName("planet")[0].disabled=true;document.getElementsByName("planettype")[0].disabled=true;document.getElementsByName("shortlinks")[0].disabled=true}function showOrders(){document.getElementsByName("order")[0].disabled=false;return}function hideOrders(){document.getElementsByName("order")[0].disabled=true}function showResources(){document.getElementsByName("resource1")[0].disabled=false;document.getElementsByName("resource2")[0].disabled=false;document.getElementsByName("resource3")[0].disabled=false;document.getElementsByName("holdingtime")[0].disabled=false}function hideResources(){document.getElementsByName("resource1")[0].disabled=true;document.getElementsByName("resource2")[0].disabled=true;document.getElementsByName("resource3")[0].disabled=true;document.getElementsByName("holdingtime")[0].disabled=true}function setShips(t,s,p,n,q,o,m,k,j,h,g,f,d,e,c,b,a){setNumber("202",t);setNumber("203",s);setNumber("204",p);setNumber("205",n);setNumber("206",q);setNumber("207",o);setNumber("208",m);setNumber("209",k);setNumber("210",j);setNumber("211",h);setNumber("213",g);setNumber("214",f);setNumber("215",d);setNumber("216",e);setNumber("217",c);setNumber("218",b);setNumber("219",a)}function setNumber(a,b){if(typeof document.getElementsByName("ship"+a)[0]!="undefined"){document.getElementsByName("ship"+a)[0].value=b}}function tsdpkt(a){r="";vz="";if(a<0){vz="-"}a=abs(a);r=a%1000;while(a>=1000){k1="";if((a%1000)<100){k1="0"}if((a%1000)<10){k1="00"}if((a%1000)==0){k1="00"}a=abs((a-(a%1000))/1000);r=a%1000+"."+k1+r}r=vz+r;return r}function abs(b){if(b<0){return -b}return b};